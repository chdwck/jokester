import{d as k,c as u,a as r,b as d,e as w,o as a,L as j,u as B,f as i,r as h,w as b,g as J,h as v,t as $,_ as L,i as N,j as S}from"./index-6134a794.js";import{_ as V}from"./NotFoundBox.vue_vue_type_script_setup_true_lang-d77bec0b.js";const q={class:"flex items-center justify-center w-full aspect-square"},G={key:0},C=["src","alt"],D=r("figcaption",{class:"text-center"},[w("Image Generated with "),r("a",{href:"https://platform.openai.com/docs/api-reference/images"},"Dallâ€¢E")],-1),E={key:2},O=k({__name:"ImageBox",props:{url:{type:String,default:null},alt:{type:String,required:!0},isLoading:{type:Boolean,default:!1}},setup(t){return(o,s)=>(a(),u("div",q,[t.url&&!t.isLoading?(a(),u("figure",G,[r("img",{src:t.url,alt:t.alt,class:"w-full h-auto",height:"512",width:"512"},null,8,C),D])):t.isLoading?(a(),d(j,{key:1})):(a(),u("p",E," ðŸ¤– The image robot doesn't understand this joke... yet.ðŸ¤– "))]))}}),T={key:2,class:"p-3 text-white bg-black border border-white rounded-md bg-opacity-90"},M={class:"mb-3"},P={class:"flex justify-end gap-2"},R=k({__name:"JokePresentation",props:{jokeId:{type:String,required:!0}},setup(t){const o=t,s=B(),l=i(()=>s.jokesById[o.jokeId]),n=i(()=>{var e;return(e=l.value)==null?void 0:e.some}),y=i(()=>{var e;return(e=l.value)==null?void 0:e.isNone}),m=h(!1),c=h(!1),I=i(()=>s.jokeImagesById[o.jokeId]),x=i(()=>{var e;return(e=I.value)==null?void 0:e.some});async function g(){c.value||(c.value=!0,await s.getGeneratedJokeImage(o.jokeId),c.value=!1)}return b(n,()=>{g()}),J(async()=>{l.value===void 0&&(m.value=!0,await s.getJokeById(o.jokeId),m.value=!1),await g()}),(e,z)=>{var _,f,p;return m.value||l.value===void 0?(a(),d(j,{key:0})):y.value?(a(),d(V,{key:1})):n.value?(a(),u("article",T,[v(O,{url:x.value,alt:(_=n.value)==null?void 0:_.joke,"is-loading":c.value},null,8,["url","alt","is-loading"]),r("p",M,$((f=n.value)==null?void 0:f.joke),1),r("div",P,[v(L,{text:(p=n.value)==null?void 0:p.joke},null,8,["text"])])])):N("",!0)}}}),H=k({__name:"JokeView",setup(t){const o=S(),s=i(()=>o.params.id);return(l,n)=>(a(),d(R,{class:"max-w-2xl mx-auto","joke-id":s.value},null,8,["joke-id"]))}});export{H as default};
